<!DOCTYPE html>
<html lang="zxx">
<head>
    <!-- ** Basic Page Needs ** -->
    <meta charset="utf-8"/>
    <title>Medic | Medical HTML Template</title>

    <!-- ** Mobile Specific Metas ** -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="description" content="Medical HTML Template"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0"/>
    <meta name="author" content="Themefisher"/>
    <meta name="generator" content="Themefisher Medical HTML Template v1.0"/>

    <!-- ** Plugins Needed for the Project ** -->
    <!-- bootstrap -->
    <link rel="stylesheet" th:href="@{/plugins/bootstrap/bootstrap.min.css}"/>
    <!-- Slick Carousel -->
    <link rel="stylesheet" th:href="@{/plugins/slick/slick.css}"/>
    <link rel="stylesheet" th:href="@{/plugins/slick/slick-theme.css}"/>
    <!-- FancyBox -->
    <link rel="stylesheet" th:href="@{/plugins/fancybox/jquery.fancybox.min.css}"/>
    <!-- fontawesome -->
    <link rel="stylesheet" th:href="@{/plugins/fontawesome/css/all.min.css}"/>
    <!-- animate.css -->
    <link rel="stylesheet" th:href="@{/plugins/animation/animate.min.css}"/>
    <!-- jquery-ui -->
    <link rel="stylesheet" th:href="@{/plugins/jquery-ui/jquery-ui.css}"/>
    <!-- timePicker -->
    <link rel="stylesheet" th:href="@{/plugins/timePicker/timePicker.css}"/>

    <!-- Stylesheets -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/profile.css}">


    <!--Favicon-->
    <link rel="icon" th:href="@{/images/favicon.png}" type="image/x-icon"/>
</head>

<body>
<header th:replace="fragment :: header"></header>


<section class="section style-three pb-0" style="margin-bottom: 5rem;">
    <div class="container">
        <div class="row">
            <!--Start of consultations and response section -->
            <div class="col-lg-9 order-1 order-lg-0">


                <!-- ------------------------------Start Of Edit Consultation Modals----------------------------------------------->
                <div class="modal fade" id="modalRegisterForm" tabindex="-1" role="dialog"
                     aria-labelledby="myModalLabel"
                     aria-hidden="true" style="border: 1px solid #48BDC5;">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header text-center">
                                <h4 class="modal-title w-100 font-weight-bold" style="color:#48bdc5;">Ask for
                                    consultation</h4>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body mx-3">
                                <div class="container rounded bg-white mt-5 mb-5">
                                    <div class="row">
                                        <form th:action="@{/editConsultation/{id}(id=${oneConsultation.getId()})}"
                                              method="get" name="contact_form"
                                              class="default-form contact-form">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="form-group">
                                                        <input field="*{subject}" name="subject" class="form-control"
                                                               type="text"
                                                               th:value="${oneConsultation.getSubject()}" required="">
                                                    </div>
                                                </div>
                                                <div class="col-md-12">
                                                    <div class="form-group">
                                                        <input field="*{body}" name="body"
                                                               th:value="${oneConsultation.getBody()}" required
                                                               class="form-control"
                                                               style="height: 5rem;"
                                                        />
                                                    </div>
                                                    <div class="form-group text-center">
                                                        <button type="submit" class="btn-style-one">Update</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ------------------------------End Of Edit Consultation Modals----------------------------------------------->

                <div class="card" style="margin-bottom:10px;">
                    <div class="card-block">
                        <h4 th:text="${oneConsultation.getSubject()}" style="margin-bottom:15px;"></h4>
                        <div class="meta">
                            <h5 th:text="${'By : ' + oneConsultation.getApplicationUser().getFirstname() + ' ' + oneConsultation.getApplicationUser().getLastname()}"></h5>
                            <p th:text="${oneConsultation.getBody()}"></p>
                        </div>
                        <div>
                            <div class="text-center" style="display: inline-block; float: right; color: white;">
                                <a class="btn btn-info" data-toggle="modal" style="flout:right;"
                                   data-target="#modalRegisterForm">Edit Your Consultation</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-------------------------------------Start of edit response form---------------------------------------------->
                <form th:if="${editResponseForm}"
                      th:action="@{/editResponse/{consultationId}/{responseId}(consultationId=${oneConsultation.getId()}, responseId=${responseToEdit.getId()})}"
                      method="get">
                    <input class="form-control" name="body" th:value="${responseToEdit.getBody()}"
                          style="    width: 80%; display: inline-block; margin: 1rem;" required></input>
                    <button class="btn btn-outline-info" type="submit">Save changes</button>
                </form>
                <!-------------------------------------End of edit response form---------------------------------------------->

                <div class="card">
                    <div class="card-block">
                        <!--get Responses()-->
                        <div>
                            <!--Start of consultations and response section -->
                            <div th:each="oneResponse : ${allResponse}">
                                <div th:if="${oneResponse.isTherapists()}"
                                     style="text-align: right;float:right;display:block; width: 100%;    margin-bottom: 1.5rem;">
                                    <div style=" display: inline-block; max-width: 70%;">
                                        <p th:text="${oneResponse.getBody()}"
                                           style="border:1px solid #BFA2DB; border-radius: 1rem; padding:0.3rem; margin-bottom:0px;display:inline; background-color: #F0D9FF;"></p>
                                        <div th:if="${testButton}">
                                            <form th:action="@{/showEditResponseForm/{consultationId}/{responseId}(consultationId=${oneConsultation.getId()}, responseId=${oneResponse.getId()})}"
                                                  style="display: inline-block;"
                                                  method="get">
                                                <button style="background: none; border: none; color:#17a2b8; font-size: smaller;"
                                                        type="submit">üñäÔ∏è
                                                </button>
                                            </form>
                                            <form th:action="@{/DeleteResponse/{consultationId}/{responseId}(consultationId=${oneConsultation.getId()}, responseId=${oneResponse.getId()})}"
                                                  style="display: inline-block;"
                                                  method="post">
                                                <button style="background: none; border: none; color:#17a2b8; font-size: smaller;"
                                                        type="submit">‚ùå
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                    <img th:src="${oneConsultation.getTherapists().getImage()}"
                                         style="width:3rem ; border-radius: 50%; vertical-align: top;"/>
                                </div>
                                <div th:unless="${oneResponse.isTherapists()}"
                                     style="text-align: left;float:left; display:block; width: 100%;    margin-bottom: 1.5rem;">
                                    <img th:src="${oneConsultation.getApplicationUser().getImage()}"
                                         style="width:3rem ; border-radius: 50%; vertical-align: top;"/>
                                    <div style=" display: inline-block; max-width: 70%;">
                                        <p th:text="${oneResponse.getBody()}"
                                           style="border:1px solid #93B5C6; border-radius: 1rem; padding:0.3rem; margin-bottom:0px;display:inline; background-color: #C9CCD5;"></p>
                                        <div th:if="${!testButton}">
                                            <form th:action="@{/showEditResponseForm/{consultationId}/{responseId}(consultationId=${oneConsultation.getId()}, responseId=${oneResponse.getId()})}"
                                                  style="display: inline-block;"
                                                  method="get">
                                                <button style="background: none; border: none; color:#17a2b8; font-size: smaller;"
                                                        type="submit">üñäÔ∏è
                                                </button>
                                            </form>
                                            <form th:action="@{/DeleteResponse/{consultationId}/{responseId}(consultationId=${oneConsultation.getId()}, responseId=${oneResponse.getId()})}"
                                                  style="display: inline-block;"
                                                  method="post">
                                                <button style="background: none; border: none; color:#17a2b8; font-size: smaller;"
                                                        type="submit">‚ùå
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <form action="/addResponse" method="post">
                                    <input type="hidden" field="*{consultationId}" name="consultationId"
                                           th:value="${oneConsultation.getId()}">
                                    <textarea id="responseBody" rows="3" field="*{responseBody}" name="responseBody"
                                              placeholder="Write a response" style="width:100% ; margin-top: 1rem;"
                                              required></textarea>
                                    <button class="btn btn-outline-info" style="float:right;" type="submit">Response
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--End of consultations and response section -->

            <!--profile card section-->
            <div class="col-lg-3 mb-4 mb-lg-0 order-0 order-lg-1" style="">
                <div style="margin-bottom:1rem;">
                    <div class="card">
                        <img
                                class="card-img-top"
                                th:src="${oneConsultation.getTherapists().getImage()}"
                        />
                        <div class="card-block">
                            <h4 class="card-title" style="display: inline-block;}"
                                th:text="${oneConsultation.getTherapists().getFirstname() + ' ' + oneConsultation.getTherapists().getLastname()}"></h4>
                            <div class="meta">
                                <p th:text="${'Username: '+oneConsultation.getTherapists().getUsername()}"></p>
                            </div>
                            <div class="card-text"
                                 th:text="${'Country: '+oneConsultation.getTherapists().getCountry()}"></div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <img
                            class="card-img-top"
                            th:src="${oneConsultation.getApplicationUser().getImage()}"
                    />
                    <div class="card-block">
                        <h4 class="card-title" style="display: inline-block;}"
                            th:text="${oneConsultation.getApplicationUser().getFirstname() + ' ' + oneConsultation.getApplicationUser().getLastname()}"></h4>
                        <div class="meta">
                            <p th:text="${'Username: '+oneConsultation.getApplicationUser().getUsername()}"></p>
                        </div>
                        <div class="card-text"
                             th:text="${'Country: '+oneConsultation.getApplicationUser().getCountry()}"></div>
                    </div>
                </div>
            </div>
            <!--profile card section-->
        </div>
    </div>
</section>

<!-- footer-main -->
<footer class="footer-main">
    <div class="footer-top">
        <div class="container">
            <div class="row justify-content-between">
                <div class="col-lg-4 mb-5 mb-lg-0">
                    <div class="about-widget">
                        <div class="footer-logo">
                            <figure>
                                <a href="index.html">
                                    <img loading="lazy" class="img-fluid" src="/images/logo-2.png" alt="medic"/>
                                </a>
                            </figure>
                        </div>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias, temporibus?</p>
                        <ul class="location-link">
                            <li class="item">
                                <i class="fas fa-map-marker-alt"></i>
                                <p>Modamba, NY 80021, United States</p>
                            </li>
                            <li class="item">
                                <i class="far fa-envelope" aria-hidden="true"></i>
                                <a href="mailto:support@medic.com">
                                    <p>support@medic.com</p>
                                </a>
                            </li>
                            <li class="item">
                                <i class="fas fa-phone" aria-hidden="true"></i>
                                <p>(88017) +123 4567</p>
                            </li>
                        </ul>
                        <ul class="list-inline social-icons">
                            <li class="list-inline-item">
                                <a href="https://facebook.com/themefisher" aria-label="facebook"
                                ><i class="fab fa-facebook-f"></i
                                ></a>
                            </li>
                            <li class="list-inline-item">
                                <a href="https://twitter.com/themefisher" aria-label="twitter"><i
                                        class="fab fa-twitter"></i></a>
                            </li>
                            <li class="list-inline-item">
                                <a href="https://instagram.com/themefisher" aria-label="instagram"
                                ><i class="fab fa-instagram"></i
                                ></a>
                            </li>
                            <li class="list-inline-item">
                                <a href="https://github.com/themefisher" aria-label="github"><i
                                        class="fab fa-github"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-3 col-md-5 mb-3 mb-md-0">
                    <h2>Services</h2>
                    <ul class="menu-link">
                        <li>
                            <a href="service.html">
                                <i class="fa fa-angle-right" aria-hidden="true"></i>Orthopadic Liabilities</a
                            >
                        </li>
                        <li>
                            <a href="service.html"> <i class="fa fa-angle-right" aria-hidden="true"></i>Dental
                                Clinic</a>
                        </li>
                        <li>
                            <a href="service.html"> <i class="fa fa-angle-right" aria-hidden="true"></i>Dormamu
                                Clinic</a>
                        </li>
                        <li>
                            <a href="service.html"> <i class="fa fa-angle-right" aria-hidden="true"></i>Psycological
                                Clinic</a>
                        </li>
                        <li>
                            <a href="service.html">
                                <i class="fa fa-angle-right" aria-hidden="true"></i>Gynaecological Clinic</a
                            >
                        </li>
                    </ul>
                </div>
                <div class="col-lg-4 col-md-7">
                    <div class="social-links">
                        <h2>Recent Posts</h2>
                        <ul>
                            <li class="item">
                                <div class="media">
                                    <div class="media-left mr-3">
                                        <a href="blog-details.html">
                                            <img loading="lazy" src="/images/blog/post-thumb-small.jpg"
                                                 alt="post-thumb"/>
                                        </a>
                                    </div>
                                    <div class="media-body">
                                        <h5><a href="blog-details.html">A lesson adip isicing</a></h5>
                                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Aperiam,
                                            dolorem.</p>
                                    </div>
                                </div>
                            </li>
                            <li class="item">
                                <div class="media">
                                    <div class="media-left mr-3">
                                        <a href="blog-details.html">
                                            <img loading="lazy" src="/images/blog/post-thumb-small.jpg"
                                                 alt="post-thumb"/>
                                        </a>
                                    </div>
                                    <div class="media-body">
                                        <h5><a href="blog-details.html">How to make an event</a></h5>
                                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Aperiam,
                                            dolorem.</p>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-bottom">
        <div class="container clearfix">
            <div class="copyright-text">
                <p>
                    &copy; Copyright 2021. Designed &amp; Developed by <a
                        href="https://themefisher.com/">Themefisher</a>
                </p>
            </div>
            <ul class="footer-bottom-link">
                <li>
                    <a href="index.html">Home</a>
                </li>
                <li>
                    <a href="about.html">About</a>
                </li>
                <li>
                    <a href="contact.html">Contact</a>
                </li>
            </ul>
        </div>
    </div>
</footer>
<!-- End footer-main -->

<!-- scroll-to-top -->
<div id="back-to-top" class="back-to-top">
    <i class="fa fa-angle-up"></i>
</div>
</div>
<!--End pagewrapper-->

<!--Scroll to top-->
<div class="scroll-to-top scroll-to-target" data-target=".header-top">
    <span class="icon fa fa-angle-up"></span>
</div>

<!-- jquery -->
<script src="/plugins/jquery.min.js"></script>
<!-- bootstrap -->
<script src="/plugins/bootstrap/bootstrap.min.js"></script>
<!-- Slick Slider -->
<script src="/plugins/slick/slick.min.js"></script>
<script src="/plugins/slick/slick-animation.min.js"></script>
<!-- FancyBox -->
<script src="/plugins/fancybox/jquery.fancybox.min.js" defer></script>
<!-- Google Map -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCcABaamniA6OL5YvYSpB3pFMNrXwXnLwU" defer></script>
<script src="/plugins/google-map/gmap.js" defer></script>

<!-- jquery-ui -->
<script src="/plugins/jquery-ui/jquery-ui.js" defer></script>
<!-- timePicker -->
<script src="/plugins/timePicker/timePicker.js" defer></script>

<!-- script js -->
<script src="/js/script.js"></script>
</body>
</html>

