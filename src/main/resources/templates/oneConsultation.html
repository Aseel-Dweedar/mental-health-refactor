<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div>
    <h2 th:text="${oneConsultation.getApplicationUser().getFirstname()}"></h2>
    <h2 th:text="${oneConsultation.getBody()}"></h2>
</div>

<!--getResponses()-->
    <div>
        <div th:if="${oneConsultation.isTaken()}">
<!--            <form th:if="${applicationUser}"-->
<!--                  th:action="@{/DeleteOneConsultation/{id}(id=${oneConsultation.getId()})}"-->
<!--                  method="post">-->
<!--                <button type="submit">Delete</button>-->
<!--            </form>-->
        </div>
        <div th:unless="${oneConsultation.isTaken()}">
            <h2 th:text="${oneConsultation.getBody()}"></h2>
            <a th:href="@{/showOneConsultation/{id}(id=${oneConsultation.getId()})}">Show Full Conversation</a>
            <form th:if="${applicationUser}"
                  th:action="@{/DeleteOneConsultation/{id}(id=${oneConsultation.getId()})}"
                  method="post">
                <button type="submit">Delete</button>
            </form>
        </div>
    </div>


<!--Add Response-->
<form action="/addResponse" method="post">
    <input type="hidden" field="*{consultationId}" name="consultationId" th:value="${oneConsultation.getId()}">
    <label for="responseBody">Your Response</label>
    <textarea id="responseBody" rows="3" field="*{responseBody}" name="responseBody" required></textarea>
    <button type="submit">add Response</button>
</form>

</body>
</html>