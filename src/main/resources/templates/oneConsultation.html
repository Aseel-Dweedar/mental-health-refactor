<!DOCTYPE html>
<html lang="zxx">
<head>
    <!-- ** Basic Page Needs ** -->
    <meta charset="utf-8"/>
    <title>Medic | Medical HTML Template</title>

    <!-- ** Mobile Specific Metas ** -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="description" content="Medical HTML Template"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0"/>
    <meta name="author" content="Themefisher"/>
    <meta name="generator" content="Themefisher Medical HTML Template v1.0"/>

    <!-- ** Plugins Needed for the Project ** -->
    <!-- bootstrap -->
    <link rel="stylesheet" th:href="@{/plugins/bootstrap/bootstrap.min.css}"/>
    <!-- Slick Carousel -->
    <link rel="stylesheet" th:href="@{/plugins/slick/slick.css}"/>
    <link rel="stylesheet" th:href="@{/plugins/slick/slick-theme.css}"/>
    <!-- FancyBox -->
    <link rel="stylesheet" th:href="@{/plugins/fancybox/jquery.fancybox.min.css}"/>
    <!-- fontawesome -->
    <link rel="stylesheet" th:href="@{/plugins/fontawesome/css/all.min.css}"/>
    <!-- animate.css -->
    <link rel="stylesheet" th:href="@{/plugins/animation/animate.min.css}"/>
    <!-- jquery-ui -->
    <link rel="stylesheet" th:href="@{/plugins/jquery-ui/jquery-ui.css}"/>
    <!-- timePicker -->
    <link rel="stylesheet" th:href="@{/plugins/timePicker/timePicker.css}"/>

    <!-- Stylesheets -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/profile.css}">


    <!--Favicon-->
    <link rel="icon" th:href="@{/images/favicon.png}" type="image/x-icon"/>
</head>

<body>
<!--Header Upper-->
<section class="header-uper">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-xl-4 col-lg-3">
                <div class="logo">
                    <a href="index.html">
                        <img loading="lazy" id="main-logo" class="img-fluid" src="/images/eee.png" alt="logo">
                    </a>
                </div>
            </div>
            <div class="col-xl-8 col-lg-9">
                <div class="right-side">
                    <ul class="contact-info pl-0 mb-4 mb-md-0">
                        <li class="item text-left">
                            <div class="icon-box">
                                <i class="far fa-envelope"></i>
                            </div>
                            <strong>Email</strong>
                            <br>
                            <a href="mailto:info@medic.com">
                                <span>info@lighthouse.com</span>
                            </a>
                        </li>
                        <li class="item text-left">
                            <div class="icon-box">
                                <i class="fas fa-phone"></i>
                            </div>
                            <strong>Call Now</strong>
                            <br>
                            <span>+ (962) - 123 - 4567</span>
                        </li>
                    </ul>
                    <div sec:authorize="!isAuthenticated()" class="link-btn text-center text-lg-right">
                        <a th:href="@{/login}" class="btn-style-one">Log In</a>
                        <a th:href="@{/signup}" class="btn-style-one">Sign up</a>
                    </div>
                    <div sec:authorize="isAuthenticated()" class="link-btn text-center text-lg-right">
                        <a th:href="@{/perform_logout}" class="btn-style-one">Log Out</a>
                    </div>
                </div>
            </div>
        </div>
</section>
<!--Header Upper-->


<!--Main Header-->
<nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarLinks"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarLinks">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/}">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/aware}">Awareness</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/allTherapists}">Therapists</a>
                </li>
                <li sec:authorize="isAuthenticated()" class="nav-item">
                    <a class="nav-link" th:href="@{/chat}">Chat</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/about}">About Us</a>
                </li>
                <li sec:authorize="isAuthenticated()" class="nav-item">
                    <a class="nav-link" th:href="@{/myProfile}">Profile</a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<!--End Main Header -->

<section class="section style-three pb-0" style="margin-bottom: 5rem;">
    <div class="container">
        <div class="row">
            <!--Start of consultations and response section -->
            <div class="col-lg-9 order-1 order-lg-0">


                <!-- ------------------------------Start Of Edit Consultation Modals----------------------------------------------->
                <div class="modal fade" id="modalRegisterForm" tabindex="-1" role="dialog"
                     aria-labelledby="myModalLabel"
                     aria-hidden="true" style="border: 1px solid #48BDC5;">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header text-center">
                                <h4 class="modal-title w-100 font-weight-bold" style="color:#48bdc5;">Ask for
                                    consultation</h4>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body mx-3">
                                <div class="container rounded bg-white mt-5 mb-5">
                                    <div class="row">
                                        <form th:action="@{/editConsultation/{id}(id=${oneConsultation.getId()})}"
                                              method="get" name="contact_form"
                                              class="default-form contact-form">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="form-group">
                                                        <input field="*{subject}" name="subject" class="form-control"
                                                               type="text"
                                                               th:value="${oneConsultation.getSubject()}" required="">
                                                    </div>
                                                </div>
                                                <div class="col-md-12">
                                                    <div class="form-group">
                                                        <input field="*{body}" name="body"
                                                               th:value="${oneConsultation.getBody()}" required
                                                               class="form-control"
                                                               style="height: 5rem;"
                                                        />
                                                    </div>
                                                    <div class="form-group text-center">
                                                        <button type="submit" class="btn-style-one">Update</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ------------------------------End Of Edit Consultation Modals----------------------------------------------->

                <div class="card" style="margin-bottom:10px;">
                    <div class="card-block">
                        <h4 th:text="${oneConsultation.getSubject()}" style="margin-bottom:15px;"></h4>
                        <div class="meta">
                            <h5 th:text="${'By : ' + oneConsultation.getApplicationUser().getFirstname() + ' ' + oneConsultation.getApplicationUser().getLastname()}"></h5>
                            <p th:text="${oneConsultation.getBody()}"></p>
                        </div>
                        <div>
                            <div th:if="${updateConsultationButton}" class="text-center"
                                 style="display: inline-block; float: right; color: white;">
                                <a class="btn btn-info" data-toggle="modal" style="flout:right;"
                                   data-target="#modalRegisterForm">Edit Your Consultation</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-------------------------------------Start of edit response form---------------------------------------------->
                <form th:if="${editResponseForm}"
                      th:action="@{/editResponse/{consultationId}/{responseId}(consultationId=${oneConsultation.getId()}, responseId=${responseToEdit.getId()})}"
                      method="get">
                    <input class="form-control" name="body" th:value="${responseToEdit.getBody()}"
                           style="    width: 80%; display: inline-block; margin: 1rem;" required></input>
                    <button class="btn btn-outline-info" type="submit">Save changes</button>
                </form>
                <!-------------------------------------End of edit response form---------------------------------------------->

                <div class="card">
                    <div class="card-block">
                        <!--get Responses()-->
                        <div>
                            <!--Start of consultations and response section -->
                            <div th:each="oneResponse : ${allResponse}">
                                <div th:if="${oneResponse.isTherapists()}"
                                     style="text-align: right;float:right;display:block; width: 100%;    margin-bottom: 1.5rem;">
                                    <div style=" display: inline-block; max-width: 70%;">
                                        <p th:text="${oneResponse.getBody()}"
                                           style="border:1px solid #BFA2DB; border-radius: 1rem; padding:0.3rem; margin-bottom:0px; background-color: #F0D9FF;"></p>
                                        <div th:if="${testButton}">
                                            <form th:action="@{/showEditResponseForm/{consultationId}/{responseId}(consultationId=${oneConsultation.getId()}, responseId=${oneResponse.getId()})}"
                                                  style="display: inline-block;"
                                                  method="get">
                                                <button style="background: none; border: none; color:#17a2b8; font-size: smaller;"
                                                        type="submit">🖊️
                                                </button>
                                            </form>
                                            <form th:action="@{/DeleteResponse/{consultationId}/{responseId}(consultationId=${oneConsultation.getId()}, responseId=${oneResponse.getId()})}"
                                                  style="display: inline-block;"
                                                  method="post">
                                                <button style="background: none; border: none; color:#17a2b8; font-size: smaller;"
                                                        type="submit">❌
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                    <img th:src="${oneConsultation.getTherapists().getImage()}"
                                         style="width:3rem ; border-radius: 50%; vertical-align: top;"/>
                                </div>
                                <div th:unless="${oneResponse.isTherapists()}"
                                     style="text-align: left;float:left; display:block; width: 100%;    margin-bottom: 1.5rem;">
                                    <img th:src="${oneConsultation.getApplicationUser().getImage()}"
                                         style="width:3rem ; border-radius: 50%; vertical-align: top;"/>
                                    <div style=" display: inline-block; max-width: 70%;">
                                        <p th:text="${oneResponse.getBody()}"
                                           style="border:1px solid #93B5C6; border-radius: 1rem; padding:0.3rem; margin-bottom:0px; background-color: #C9CCD5;"></p>
                                        <div th:if="${!testButton}">
                                            <form th:action="@{/showEditResponseForm/{consultationId}/{responseId}(consultationId=${oneConsultation.getId()}, responseId=${oneResponse.getId()})}"
                                                  style="display: inline-block;"
                                                  method="get">
                                                <button style="background: none; border: none; color:#17a2b8; font-size: smaller;"
                                                        type="submit">🖊️
                                                </button>
                                            </form>
                                            <form th:action="@{/DeleteResponse/{consultationId}/{responseId}(consultationId=${oneConsultation.getId()}, responseId=${oneResponse.getId()})}"
                                                  style="display: inline-block;"
                                                  method="post">
                                                <button style="background: none; border: none; color:#17a2b8; font-size: smaller;"
                                                        type="submit">❌
                                                </button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <form action="/addResponse" method="post">
                                    <input type="hidden" field="*{consultationId}" name="consultationId"
                                           th:value="${oneConsultation.getId()}">
                                    <textarea id="responseBody" rows="3" field="*{responseBody}" name="responseBody"
                                              placeholder="Write a response" style="width:100% ; margin-top: 1rem;"
                                              required></textarea>
                                    <button class="btn btn-outline-info" style="float:right;" type="submit">Response
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--End of consultations and response section -->

            <!--profile card section-->
            <div class="col-lg-3 mb-4 mb-lg-0 order-0 order-lg-1" style="">
                <div class="card" th:if="${testButton}">
                    <img
                            class="card-img-top"
                            th:src="${oneConsultation.getApplicationUser().getImage()}"
                    />
                    <div class="card-block">
                        <h4 class="card-title" style="display: inline-block;}"
                            th:text="${oneConsultation.getApplicationUser().getFirstname() + ' ' + oneConsultation.getApplicationUser().getLastname()}"></h4>
                        <div class="meta">
                            <p th:text="${'Username: '+oneConsultation.getApplicationUser().getUsername()}"></p>
                        </div>
                        <div class="card-text"
                             th:text="${'Country: '+oneConsultation.getApplicationUser().getCountry()}"></div>
                    </div>
                </div>
                <div th:unless="${testButton}" class="card">
                    <img
                            class="card-img-top"
                            th:src="${oneConsultation.getTherapists().getImage()}"
                    />
                    <div class="card-block">
                        <h4 class="card-title" style="display: inline-block;}"
                            th:text="${oneConsultation.getTherapists().getFirstname() + ' ' + oneConsultation.getTherapists().getLastname()}"></h4>
                        <div class="meta">
                            <p th:text="${'Username: '+oneConsultation.getTherapists().getUsername()}"></p>
                        </div>
                        <div class="card-text"
                             th:text="${'Country: '+oneConsultation.getTherapists().getCountry()}"></div>
                    </div>
                </div>

            </div>
            <!--profile card section-->
        </div>
    </div>
</section>

<!--footer-main-->
<footer class="footer-main">
    <div class="footer-top">
        <div class="container">
            <div class="row justify-content-between">
                <div class="col-lg-5 mb-5 mb-lg-0">
                    <div class="about-widget">
                        <div class="footer-logo">
                            <h2>Lighthouse E-Clinic</h2>
                            <!-- <figure>
                              <a href="index.html">
                                <img loading="lazy" class="img-fluid" src="images/eee.png" alt="medic" >
                              </a>
                            </figure> -->
                        </div>
                        <p style="width:90%">Lighthouse E-Clinic is a new and innovative online system that delivers
                            clinical services to people experiencing mental health problems. The makes clinical care
                            free and accessible to people wherever and whenever they need it.</p>
                        <ul class="location-link">

                            <li class="item">
                                <i class="far fa-envelope" aria-hidden="true"></i>
                                <a href="mailto:support@medic.com">
                                    <p>support@lighthouse.com</p>
                                </a>
                            </li>
                            <li class="item">
                                <i class="fas fa-phone" aria-hidden="true"></i>
                                <p>(+962) 123 4567</p>
                            </li>
                        </ul>
                        <ul class="list-inline social-icons">
                            <li class="list-inline-item"><a
                                    href="https://github.com/Mental-HealthCare/Mental-HealthCare"
                                    aria-label="facebook"><i class="fab fa-facebook-f"></i></a>
                            </li>
                            <li class="list-inline-item"><a
                                    href="https://github.com/Mental-HealthCare/Mental-HealthCare"
                                    aria-label="twitter"><i class="fab fa-twitter"></i></a>
                            </li>
                            <li class="list-inline-item"><a
                                    href="https://github.com/Mental-HealthCare/Mental-HealthCare"
                                    aria-label="instagram"><i class="fab fa-instagram"></i></a>
                            </li>
                            <li class="list-inline-item"><a
                                    href="https://github.com/Mental-HealthCare/Mental-HealthCare"
                                    aria-label="github"><i class="fab fa-github"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>
                <!--                    ToDo: Edit links-->
                <div class="col-lg-2 col-md-5 mb-3 mb-md-0">
                    <h2>QUICK LINKS</h2>
                    <ul class="menu-link">
                        <li>
                            <a th:href="@{/}">
                                <i class="fa fa-angle-right" aria-hidden="true"></i>Home</a>
                        </li>
                        <li>
                            <a th:href="@{/aware}">
                                <i class="fa fa-angle-right" aria-hidden="true"></i>Awareness</a>
                        </li>
                        <li>
                            <a th:href="@{/allTherapists}">
                                <i class="fa fa-angle-right" aria-hidden="true"></i>Therapists</a>
                        </li>
                        <li>
                            <a th:href="@{/about}">
                                <i class="fa fa-angle-right" aria-hidden="true"></i>About Us</a>
                        </li>

                    </ul>
                </div>
                <div class="col-lg-4 col-md-7">
                    <div class="social-links">
                        <h2>Recent Posts</h2>
                        <ul>
                            <li class="item">
                                <div class="media">
                                    <div class="media-left mr-3">
                                        <a th:href="@{/aware2}">
                                            <img loading="lazy" src="images/blog/15.jpg"
                                                 alt="post-thumb">
                                        </a>
                                    </div>
                                    <div class="media-body">
                                        <h5><a th:href="@{/aware2}">Personality disorders</a></h5>
                                        <p>Our personality is the collection of thoughts, feelings and behaviours that
                                            makes each of us the individuals we are.</p>
                                    </div>
                                </div>
                            </li>
                            <li class="item">
                                <div class="media">
                                    <div class="media-left mr-3">
                                        <a th:href="@{/aware1}">
                                            <img loading="lazy" src="images/blog/19.jpg"
                                                 alt="post-thumb">
                                        </a>
                                    </div>
                                    <div class="media-body">
                                        <h5><a th:href="@{/aware1}">Obsessive-compulsive disorder (OCD)</a></h5>
                                        <p>Obsessions are unwelcome thoughts, images, urges, worries or doubts that
                                            repeatedly appear in your mind.</p>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-bottom">
        <div class="container clearfix">
            <div class="copyright-text">
                <p>&copy; Copyright 2021. by <a
                        href="https://github.com/Mental-HealthCare/Mental-HealthCare">Mental Health Clinic Team</a></p>
            </div>
            <ul class="footer-bottom-link">
                <li>
                    <a href="index.html">Home</a>
                </li>
                <li>
                    <a href="about.html">About</a>
                </li>
                <li>
                    <a href="https://github.com/Mental-HealthCare/Mental-HealthCare">Contact</a>
                </li>
            </ul>
        </div>
    </div>
</footer>

<!-- scroll-to-top -->
<div id="back-to-top" class="back-to-top">
    <i class="fa fa-angle-up"></i>
</div>
</div>
<!--End pagewrapper-->

<!--Scroll to top-->
<div class="scroll-to-top scroll-to-target" data-target=".header-top">
    <span class="icon fa fa-angle-up"></span>
</div>

<!-- jquery -->
<script src="/plugins/jquery.min.js"></script>
<!-- bootstrap -->
<script src="/plugins/bootstrap/bootstrap.min.js"></script>
<!-- Slick Slider -->
<script src="/plugins/slick/slick.min.js"></script>
<script src="/plugins/slick/slick-animation.min.js"></script>
<!-- FancyBox -->
<script src="/plugins/fancybox/jquery.fancybox.min.js" defer></script>
<!-- Google Map -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCcABaamniA6OL5YvYSpB3pFMNrXwXnLwU" defer></script>
<script src="/plugins/google-map/gmap.js" defer></script>

<!-- jquery-ui -->
<script src="/plugins/jquery-ui/jquery-ui.js" defer></script>
<!-- timePicker -->
<script src="/plugins/timePicker/timePicker.js" defer></script>

<!-- script js -->
<script src="/js/script.js"></script>
</body>
</html>

